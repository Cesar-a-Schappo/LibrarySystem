<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Adicionar Ninja</title>
    <link rel="stylesheet" th:href="@{/css/styles.css}" />
    <style>
.form-container {
    background-color: #ffffff;
    width: 100%;
    max-width: 450px;
    padding: 40px;
    border-radius: 12px;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05),
                0 10px 15px -3px rgba(0, 0, 0, 0.1);
    display: flex;
    flex-direction: column;
}

form label {
    display: block;
    margin-bottom: 8px;
    font-size: 0.85rem;
    font-weight: 600;
    color: #4b5563;
    letter-spacing: 0.3px;
}

form input[type="text"],
form input[type="email"],
form input[type="number"] {
    width: 100%;
    padding: 12px 16px;
    margin-bottom: 24px;
    border: 1px solid #e5e7eb;
    border-radius: 8px;
    background-color: #f9fafb;
    font-size: 0.95rem;
    color: #1f2937;
    transition: all 0.2s ease;
    font-family: inherit;
}

form input:focus {
    outline: none;
    border-color: #3b82f6;
    background-color: #ffffff;
    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
}

form button[type="submit"] {
    width: 100%;
    padding: 14px;
    background-color: #3b82f6;
    color: white;
    border: none;
    border-radius: 8px;
    font-size: 1rem;
    font-weight: 600;
    cursor: pointer;
    transition: background-color 0.2s, transform 0.1s;
    margin-top: 8px;
}

form button[type="submit"]:hover {
    background-color: #2563eb;
}

form button[type="submit"]:active {
    transform: scale(0.98);
}

.form-container > a {
    display: inline-block;
    margin-top: 24px;
    text-align: center;
    font-size: 0.9rem;
    color: #6b7280;
    text-decoration: none;
    transition: color 0.2s;
}

.form-container > a:hover {
    color: #111827;
    text-decoration: underline;
}

.message {
    background-color: #ecfdf5;
    color: #047857;
    padding: 12px;
    border-radius: 8px;
    font-size: 0.9rem;
    margin-bottom: 24px;
    text-align: center;
    border: 1px solid #a7f3d0;
}
    </style>
</head>
<body>
<h1>Add new Reader</h1>
<div class="form-container">
    <div th:if="${message}" class="message" th:text="${message}"></div>
    <form th:action="@{/readers/ui/save}" th:object="${reader}" method="post">
        <input type="hidden" th:field="*{id}" />

        <label for="name">Name:</label>
        <input type="text" id="name" th:field="*{name}" required />

        <label for="email">Email:</label>
        <input type="email" id="email" th:field="*{email}" required />

        <label for="age">Age:</label>
        <input type="number" id="age" th:field="*{age}" required />

        <label for="address">Address:</label>
        <input type="text" id="address" th:field="*{address}" required/>

        <hr style="border: 0; border-top: 1px solid #e5e7eb; margin: 20px 0;">
        <h3 style="font-size: 1rem; color: #374151; margin-bottom: 10px;">Assign Existing Books</h3>

        <label for="books">Select Books (Hold Ctrl to select multiple):</label>

        <select name="bookIds" id="books" multiple style="width: 100%; padding: 10px; border: 1px solid #e5e7eb; border-radius: 8px; background-color: #f9fafb; height: 120px;">
            <option th:each="book : ${allBooks}"
                    th:value="${book.id}"
                    th:text="${book.title} + ' (' + ${book.author} + ')'"
                    th:selected="${reader.books != null and !reader.books.isEmpty() and reader.books.![id].contains(book.id)}">
            </option>
        </select>
        <p style="font-size: 0.8rem; color: #6b7280; margin-top: 4px;">* Only books currently created in the system appear here.</p>

        <button type="submit">Register Reader</button>
    </form>
    <a th:href="@{/readers/ui/list}">Go back to Readers List</a>
</div>
</body>
</html>